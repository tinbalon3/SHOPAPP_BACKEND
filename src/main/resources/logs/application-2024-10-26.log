2024-10-26 10:11:45 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:11:45 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 17856 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:11:45 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:11:50 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:11:50 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:11:50 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:11:50 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:11:50 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:11:50 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.106s)
2024-10-26 10:11:50 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:11:50 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:11:51 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:11:51 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:11:51 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:11:51 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:11:52 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:11:53 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:11:54 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@66c582da}
2024-10-26 10:11:54 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:11:54 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:11:54 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:11:55 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:11:55 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 9.776 seconds (process running for 11.755)
2024-10-26 10:11:55 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@68deb7d8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33953465, org.springframework.security.web.context.SecurityContextHolderFilter@5f740a09, org.springframework.security.web.header.HeaderWriterFilter@5effdc4d, org.springframework.web.filter.CorsFilter@733bfc69, org.springframework.security.web.authentication.logout.LogoutFilter@67d5c07, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@318b3d79, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@56f53541, com.project.shopapp.filter.JwtTokenFilter@4cc69f5c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3e59d81b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4bca048c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44fc80a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52ac0038, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56b70a5a, org.springframework.security.web.session.SessionManagementFilter@5e1e60d7, org.springframework.security.web.access.ExceptionTranslationFilter@5c1b20e9, org.springframework.security.web.access.intercept.AuthorizationFilter@7e44f0ae]] (1/1)
2024-10-26 10:12:15 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:12:15 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:12:15 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:12:15 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:12:15 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:12:15 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:12:15 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:12:15 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:12:15 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x00000245c65ac060@659b592d
2024-10-26 10:12:15 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:12:15 INFO  c.p.s.c.aspect.LoggingAspect - User logging: login, Args method:[Ljava.lang.Object;@4e030ac1, IP address: 0:0:0:0:0:0:0:1
2024-10-26 10:12:15 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:12:15 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:12:15 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished:login
2024-10-26 10:12:15 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:13:18 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:13:18 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 13056 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:13:18 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:13:19 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:13:19 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:13:19 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:13:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:13:20 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:13:20 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.025s)
2024-10-26 10:13:20 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:13:20 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:13:20 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:13:20 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:13:20 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:13:20 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:13:21 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:13:22 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:13:23 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@129d65a0}
2024-10-26 10:13:23 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:13:23 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:13:23 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:13:24 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:13:24 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.557 seconds (process running for 6.988)
2024-10-26 10:13:24 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@297b40ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11b04313, org.springframework.security.web.context.SecurityContextHolderFilter@1a37f8b6, org.springframework.security.web.header.HeaderWriterFilter@705813e1, org.springframework.web.filter.CorsFilter@79dbe304, org.springframework.security.web.authentication.logout.LogoutFilter@25c02068, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7e03fe2b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@37a13152, com.project.shopapp.filter.JwtTokenFilter@60e9bda0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5de1852b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6fb4a6a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32babb12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11c093dd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cbbc7ae, org.springframework.security.web.session.SessionManagementFilter@576e46af, org.springframework.security.web.access.ExceptionTranslationFilter@31d23ea5, org.springframework.security.web.access.intercept.AuthorizationFilter@bfbb83b]] (1/1)
2024-10-26 10:13:30 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:13:30 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:13:30 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:13:30 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:13:30 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:13:30 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:13:30 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:13:30 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:13:30 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x00000256c4dc8600@2082cad4
2024-10-26 10:13:30 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:13:30 INFO  c.p.s.c.aspect.LoggingAspect - User logging: login, Args method:[Ljava.lang.Object;@50b129c4, IP address: 0:0:0:0:0:0:0:1
2024-10-26 10:13:30 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:13:30 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:13:30 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished:login
2024-10-26 10:13:30 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:14:49 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:14:49 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 23936 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:14:49 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:14:51 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:14:51 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:14:51 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:14:51 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:14:51 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:14:51 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.023s)
2024-10-26 10:14:51 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:14:51 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:14:51 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:14:51 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:14:51 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:14:52 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:14:52 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:14:53 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:14:54 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@2e4e175}
2024-10-26 10:14:54 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:14:54 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:14:54 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:14:55 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:14:55 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.146 seconds (process running for 6.528)
2024-10-26 10:14:55 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@25af8a79, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5439aa4e, org.springframework.security.web.context.SecurityContextHolderFilter@32babb12, org.springframework.security.web.header.HeaderWriterFilter@10d0edc9, org.springframework.web.filter.CorsFilter@3e20ccca, org.springframework.security.web.authentication.logout.LogoutFilter@5a56aa85, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@16a4961f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@26984ff0, com.project.shopapp.filter.JwtTokenFilter@8d27060, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4275ec8f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@46c76ac2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11c093dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f8b759e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fe2dc21, org.springframework.security.web.session.SessionManagementFilter@1eb1e607, org.springframework.security.web.access.ExceptionTranslationFilter@6bf1f6a9, org.springframework.security.web.access.intercept.AuthorizationFilter@34b58084]] (1/1)
2024-10-26 10:15:54 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:15:54 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:15:54 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:15:54 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:15:54 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:15:54 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:15:54 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:15:54 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:15:54 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x000001d701dc4258@74dce6a3
2024-10-26 10:15:54 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:15:54 INFO  c.p.s.c.aspect.LoggingAspect - User logging: login, Args method:[UserLoginDTO(email=alosinl048@gmail.com, password=123456, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5884a15b]], IP address: 0:0:0:0:0:0:0:1
2024-10-26 10:15:54 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:15:55 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:15:55 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished:login
2024-10-26 10:15:55 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:18:53 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:18:53 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 15500 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:18:53 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:18:55 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:18:55 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:18:55 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:18:55 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:18:55 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:18:55 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.024s)
2024-10-26 10:18:55 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:18:55 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:18:55 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:18:55 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:18:55 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:18:56 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:18:56 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:18:57 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:18:58 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@61e8e00b}
2024-10-26 10:18:58 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:18:58 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:18:58 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:18:59 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:18:59 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.32 seconds (process running for 6.715)
2024-10-26 10:19:00 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@810ab46, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e5ee927, org.springframework.security.web.context.SecurityContextHolderFilter@31d23ea5, org.springframework.security.web.header.HeaderWriterFilter@f2bdaa4, org.springframework.web.filter.CorsFilter@72d4498a, org.springframework.security.web.authentication.logout.LogoutFilter@13ecfb04, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@705ea294, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@34fb622b, com.project.shopapp.filter.JwtTokenFilter@152d019b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@59d05dcb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7f3d8a62, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bf1f6a9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14f8e7fd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72fa5458, org.springframework.security.web.session.SessionManagementFilter@7e3707ae, org.springframework.security.web.access.ExceptionTranslationFilter@3f35489a, org.springframework.security.web.access.intercept.AuthorizationFilter@4b5b2400]] (1/1)
2024-10-26 10:19:01 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:19:01 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:19:01 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:19:01 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:19:01 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:19:01 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:19:01 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:19:01 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:19:01 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x000002bfc31c30d0@2bedbb2f
2024-10-26 10:19:01 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:19:01 INFO  c.p.s.c.aspect.LoggingAspect - User logging: Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@62392434], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:19:01 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:19:01 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:19:02 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login
2024-10-26 10:19:02 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:20:18 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:20:18 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 8640 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:20:18 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:20:20 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:20:20 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:20:20 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:20:20 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:20:20 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:20:20 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.023s)
2024-10-26 10:20:20 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:20:20 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:20:20 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:20:20 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:20:20 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:20:20 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:20:21 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:20:22 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:20:23 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@58bc23f3}
2024-10-26 10:20:23 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:20:23 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:20:23 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:20:24 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:20:24 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.166 seconds (process running for 6.54)
2024-10-26 10:20:24 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@37ee1e23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fdbe3f5, org.springframework.security.web.context.SecurityContextHolderFilter@3b9f400c, org.springframework.security.web.header.HeaderWriterFilter@72f57746, org.springframework.web.filter.CorsFilter@27d4f3ac, org.springframework.security.web.authentication.logout.LogoutFilter@6a9b6e01, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@517642a2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@348bef7f, com.project.shopapp.filter.JwtTokenFilter@26ee00a9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1eb1e607, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@507f87af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d2069cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20a73527, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17278485, org.springframework.security.web.session.SessionManagementFilter@574108a0, org.springframework.security.web.access.ExceptionTranslationFilter@5f740a09, org.springframework.security.web.access.intercept.AuthorizationFilter@3358ea01]] (1/1)
2024-10-26 10:20:27 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:20:27 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:20:27 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:20:27 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:20:27 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:20:27 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:20:27 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:20:27 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:20:27 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x000001841c1c3f70@143f0870
2024-10-26 10:20:27 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:20:27 INFO  c.p.s.c.aspect.LoggingAspect - User logging: Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f3c028f], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:20:27 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:20:27 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:20:27 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:380
2024-10-26 10:20:27 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@37ee1e23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fdbe3f5, org.springframework.security.web.context.SecurityContextHolderFilter@3b9f400c, org.springframework.security.web.header.HeaderWriterFilter@72f57746, org.springframework.web.filter.CorsFilter@27d4f3ac, org.springframework.security.web.authentication.logout.LogoutFilter@6a9b6e01, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@517642a2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@348bef7f, com.project.shopapp.filter.JwtTokenFilter@26ee00a9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1eb1e607, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@507f87af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d2069cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20a73527, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17278485, org.springframework.security.web.session.SessionManagementFilter@574108a0, org.springframework.security.web.access.ExceptionTranslationFilter@5f740a09, org.springframework.security.web.access.intercept.AuthorizationFilter@3358ea01]] (1/1)
2024-10-26 10:20:36 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:20:36 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:20:36 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:20:36 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:20:36 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:20:36 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:20:36 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:20:36 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:20:36 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x000001841c1c3f70@143f0870
2024-10-26 10:20:36 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:20:36 INFO  c.p.s.c.aspect.LoggingAspect - User logging: Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@35e8621e], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:20:36 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:20:36 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:20:36 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:154
2024-10-26 10:20:36 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:29:42 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:29:42 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 16304 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:29:42 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:29:44 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:29:44 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:29:44 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:29:44 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:29:45 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:29:45 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.071s)
2024-10-26 10:29:45 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:29:45 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:29:45 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:29:45 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:29:45 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:29:45 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:29:46 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:29:47 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:29:48 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@26bddc84}
2024-10-26 10:29:48 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:29:48 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:29:48 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:29:49 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 7.812 seconds (process running for 8.339)
2024-10-26 10:30:02 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:30:02 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 25456 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:30:02 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:30:04 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:30:04 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:30:04 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:30:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:30:04 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:30:04 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.024s)
2024-10-26 10:30:04 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:30:04 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:30:04 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:30:05 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:30:05 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:30:05 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:30:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:30:07 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:30:08 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@55455a81}
2024-10-26 10:30:08 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:30:08 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:30:08 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:30:09 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:30:09 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.945 seconds (process running for 7.958)
2024-10-26 10:30:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4ead9bef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3728b1d2, org.springframework.security.web.context.SecurityContextHolderFilter@33005ddd, org.springframework.security.web.header.HeaderWriterFilter@6a0f9dc4, org.springframework.web.filter.CorsFilter@7fb3c321, org.springframework.security.web.authentication.logout.LogoutFilter@5f2066c6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@e9ea2b7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4536cfd3, com.project.shopapp.filter.JwtTokenFilter@7d053139, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@fc35cc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2c22d72c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca2a4f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77b84c33, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ef253a4, org.springframework.security.web.session.SessionManagementFilter@3a753306, org.springframework.security.web.access.ExceptionTranslationFilter@34e67790, org.springframework.security.web.access.intercept.AuthorizationFilter@1b1f1ee4]] (1/1)
2024-10-26 10:30:11 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:30:11 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:30:11 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:30:11 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:30:11 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:30:11 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:30:11 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:30:11 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:30:11 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x00000212b29d4060@3e77561f
2024-10-26 10:30:11 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:30:11 INFO  c.p.s.c.aspect.LoggingAspect - User logging: Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@b025f2a], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:30:21 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:30:21 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:30:25 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:13765
2024-10-26 10:31:37 ERROR c.p.s.c.aspect.LoggingAspect - Failed to write log to Excel file
java.io.FileNotFoundException: logs\excel\UserActivityLog.xlsx (The system cannot find the path specified)
	at java.base/java.io.FileOutputStream.open0(Native Method)
	at java.base/java.io.FileOutputStream.open(FileOutputStream.java:295)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:236)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:124)
	at com.project.shopapp.components.aspect.LoggingAspect.writeLogToExcel(LoggingAspect.java:97)
	at com.project.shopapp.components.aspect.LoggingAspect.logerUserActivity(LoggingAspect.java:64)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.project.shopapp.controller.UserController$$SpringCGLIB$$0.login(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.project.shopapp.filter.JwtTokenFilter.doFilterInternal(JwtTokenFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.project.shopapp.components.CustomCorsFilter.doFilterInternal(CustomCorsFilter.java:32)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2024-10-26 10:31:37 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:31:49 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:31:49 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 8824 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:31:49 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:31:51 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:31:51 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:31:51 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:31:51 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:31:52 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:31:52 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.024s)
2024-10-26 10:31:52 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:31:52 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:31:52 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:31:52 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:31:52 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:31:52 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:31:53 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:31:54 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:31:55 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@3859a59e}
2024-10-26 10:31:55 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:31:55 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:31:55 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:31:56 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:31:56 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 7.14 seconds (process running for 7.643)
2024-10-26 10:31:56 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@d2b1937, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f253dd0, org.springframework.security.web.context.SecurityContextHolderFilter@2dd14806, org.springframework.security.web.header.HeaderWriterFilter@33005ddd, org.springframework.web.filter.CorsFilter@1088ed67, org.springframework.security.web.authentication.logout.LogoutFilter@1bdfa51f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@74f0bfba, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@24b190df, com.project.shopapp.filter.JwtTokenFilter@72b57a9f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@58e6940, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@55e7bda6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fc35cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e4a068f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d0f48c, org.springframework.security.web.session.SessionManagementFilter@3c1a5bd7, org.springframework.security.web.access.ExceptionTranslationFilter@7e377c78, org.springframework.security.web.access.intercept.AuthorizationFilter@631f8c82]] (1/1)
2024-10-26 10:31:59 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:31:59 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:31:59 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:31:59 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:31:59 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:31:59 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:31:59 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:31:59 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:31:59 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x000001b7359caa98@3bf76192
2024-10-26 10:31:59 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:31:59 INFO  c.p.s.c.aspect.LoggingAspect - User logging: Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@49ccb2aa], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:31:59 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:31:59 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:32:00 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:400
2024-10-26 10:32:18 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:35:04 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:35:04 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 16240 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:35:04 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:35:06 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:35:06 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:35:06 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:35:06 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:35:06 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:35:07 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.029s)
2024-10-26 10:35:07 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:35:07 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:35:07 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:35:07 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:35:07 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:35:07 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:35:08 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:35:09 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:35:09 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@292dc20f}
2024-10-26 10:35:09 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:35:09 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:35:10 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:35:10 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:35:10 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.435 seconds (process running for 6.829)
2024-10-26 10:35:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@38a482e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@670e4a8, org.springframework.security.web.context.SecurityContextHolderFilter@419b3cc5, org.springframework.security.web.header.HeaderWriterFilter@62204612, org.springframework.web.filter.CorsFilter@3f28ec5b, org.springframework.security.web.authentication.logout.LogoutFilter@75cecab7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7b10e088, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3135f5dd, com.project.shopapp.filter.JwtTokenFilter@5877a9e7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@517642a2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4bf299a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56f53541, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7630471, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@575df1fd, org.springframework.security.web.session.SessionManagementFilter@576593bd, org.springframework.security.web.access.ExceptionTranslationFilter@7e31164b, org.springframework.security.web.access.intercept.AuthorizationFilter@11368ba6]] (1/1)
2024-10-26 10:35:13 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:35:13 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:35:13 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:35:13 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:35:13 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:35:13 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:35:13 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:35:13 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:35:13 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x0000018c01dd5c08@24ba6cb8
2024-10-26 10:35:13 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:35:13 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 10:35:13] Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@765ad67f], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:35:13 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:35:13 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:35:13 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:378
2024-10-26 10:35:14 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:35:59 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:35:59 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 9068 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:35:59 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:36:00 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:36:00 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:36:00 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:36:00 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:36:01 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:36:01 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.023s)
2024-10-26 10:36:01 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:36:01 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:36:01 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:36:01 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:36:01 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:36:01 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:36:02 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:36:03 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:36:04 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@6f0c3da}
2024-10-26 10:36:04 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:36:04 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:36:04 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:36:05 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:36:05 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.18 seconds (process running for 6.577)
2024-10-26 10:36:05 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1df8158, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3313298c, org.springframework.security.web.context.SecurityContextHolderFilter@6a9b6e01, org.springframework.security.web.header.HeaderWriterFilter@69bcbb8, org.springframework.web.filter.CorsFilter@21be3525, org.springframework.security.web.authentication.logout.LogoutFilter@238e2c4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1005364f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@64b6a7fb, com.project.shopapp.filter.JwtTokenFilter@4284bd5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4f5a0b3d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@e03cc40, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@296c2483, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fecb459, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@732b5999, org.springframework.security.web.session.SessionManagementFilter@5de1852b, org.springframework.security.web.access.ExceptionTranslationFilter@67d5c07, org.springframework.security.web.access.intercept.AuthorizationFilter@623efc15]] (1/1)
2024-10-26 10:37:24 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:37:24 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:37:24 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:37:24 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:37:24 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:37:24 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:37:24 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:37:24 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:37:24 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x000001d4bc9c5340@cc023c0
2024-10-26 10:37:24 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:37:24 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 10:37:24] Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@433fd644], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:37:24 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:37:24 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:37:25 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:393
2024-10-26 10:37:25 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:38:13 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:38:13 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 972 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:38:13 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:38:16 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:38:16 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:38:17 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:38:17 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.049s)
2024-10-26 10:38:17 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:38:17 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:38:17 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:38:17 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:38:17 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:38:17 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:38:18 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:38:19 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:38:19 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@150dec7b}
2024-10-26 10:38:19 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:38:19 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:38:20 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:38:20 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 7.491 seconds (process running for 8.035)
2024-10-26 10:38:33 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:38:33 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 9204 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:38:33 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:38:35 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:38:35 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:38:35 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:38:35 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:38:35 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:38:36 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.031s)
2024-10-26 10:38:36 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:38:36 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:38:36 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:38:36 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:38:36 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:38:36 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:38:37 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:38:38 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:38:38 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@247f60a3}
2024-10-26 10:38:38 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:38:38 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:38:39 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:38:39 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:38:39 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.22 seconds (process running for 6.597)
2024-10-26 10:38:39 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@20cd8efe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1979c30e, org.springframework.security.web.context.SecurityContextHolderFilter@62d9d684, org.springframework.security.web.header.HeaderWriterFilter@5d92bd50, org.springframework.web.filter.CorsFilter@19a2f332, org.springframework.security.web.authentication.logout.LogoutFilter@188dd612, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@69ea89d0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@65fa1b8f, com.project.shopapp.filter.JwtTokenFilter@2dfb8de3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34fb622b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2b50b9f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ba29fef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@705ea294, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67a6681d, org.springframework.security.web.session.SessionManagementFilter@419b3cc5, org.springframework.security.web.access.ExceptionTranslationFilter@5cb56c6d, org.springframework.security.web.access.intercept.AuthorizationFilter@6f21aa2b]] (1/1)
2024-10-26 10:40:05 DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/users/login
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:40:05 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:40:05 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:40:05 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:40:05 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:40:05 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:40:05 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:40:05 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing POST /api/v1/users/login
2024-10-26 10:40:05 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on POST /api/v1/users/login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x000002558edc69c8@1f068f8
2024-10-26 10:40:05 DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/users/login
2024-10-26 10:40:05 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 10:40:05] Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@42be9cc], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:40:06 TRACE o.s.s.authentication.ProviderManager - Authenticating request with DaoAuthenticationProvider (1/1)
2024-10-26 10:40:06 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-26 10:40:06 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:372
2024-10-26 10:40:06 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:41:32 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 10:41:32 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 16456 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 10:41:32 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 10:41:34 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 10:41:34 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 10:41:34 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 10:41:34 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 10:41:35 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 10:41:35 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.023s)
2024-10-26 10:41:35 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 10:41:35 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 10:41:35 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 10:41:35 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 10:41:35 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 10:41:35 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 10:41:36 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 10:41:37 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 10:41:38 TRACE o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@26bddc84}
2024-10-26 10:41:38 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 10:41:38 DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2024-10-26 10:41:38 DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtTokenFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-26 10:41:38 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 10:41:38 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.487 seconds (process running for 6.877)
2024-10-26 10:41:39 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7dfba1b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c441841, org.springframework.security.web.context.SecurityContextHolderFilter@5d92bd50, org.springframework.security.web.header.HeaderWriterFilter@5a56aa85, org.springframework.web.filter.CorsFilter@35b1cffd, org.springframework.security.web.authentication.logout.LogoutFilter@3c986e06, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@32ceaba7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4d42465e, com.project.shopapp.filter.JwtTokenFilter@27636d72, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2ba29fef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3a60b36f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@793b6e25, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bfbb83b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ab63bf3, org.springframework.security.web.session.SessionManagementFilter@62204612, org.springframework.security.web.access.ExceptionTranslationFilter@32c26e28, org.springframework.security.web.access.intercept.AuthorizationFilter@630f63ee]] (1/1)
2024-10-26 10:41:47 DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:41:47 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:41:47 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:41:47 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:41:47 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:41:47 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:41:47 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:41:47 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:41:47 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /api/v1/products?keyword=&page=0&limit=12 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x0000018a81dc6fc8@58aff1cc
2024-10-26 10:41:47 DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:41:47 DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.project.shopapp.controller.ProductController.getAllProducts(java.lang.String,java.lang.Long,java.lang.Float,java.lang.Float,int,int,int) throws com.fasterxml.jackson.core.JsonProcessingException; target is of class [com.project.shopapp.controller.ProductController]
2024-10-26 10:41:47 DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.project.shopapp.controller.ProductController.getAllProducts(java.lang.String,java.lang.Long,java.lang.Float,java.lang.Float,int,int,int) throws com.fasterxml.jackson.core.JsonProcessingException; target is of class [com.project.shopapp.controller.ProductController]
2024-10-26 10:41:47 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 10:41:47] Method - getAllProducts, Args - [, 0, 10000.0, 100000.0, 0, 0, 12, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:41:47 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllProducts, executionTime:112
2024-10-26 10:41:47 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7dfba1b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c441841, org.springframework.security.web.context.SecurityContextHolderFilter@5d92bd50, org.springframework.security.web.header.HeaderWriterFilter@5a56aa85, org.springframework.web.filter.CorsFilter@35b1cffd, org.springframework.security.web.authentication.logout.LogoutFilter@3c986e06, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@32ceaba7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4d42465e, com.project.shopapp.filter.JwtTokenFilter@27636d72, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2ba29fef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3a60b36f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@793b6e25, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bfbb83b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ab63bf3, org.springframework.security.web.session.SessionManagementFilter@62204612, org.springframework.security.web.access.ExceptionTranslationFilter@32c26e28, org.springframework.security.web.access.intercept.AuthorizationFilter@630f63ee]] (1/1)
2024-10-26 10:42:10 DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:42:10 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:42:10 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:42:10 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:42:10 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:42:10 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:42:10 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:42:10 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:42:10 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /api/v1/products?keyword=&page=0&limit=12 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x0000018a81dc6fc8@58aff1cc
2024-10-26 10:42:10 DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:42:10 DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.project.shopapp.controller.ProductController.getAllProducts(java.lang.String,java.lang.Long,java.lang.Float,java.lang.Float,int,int,int) throws com.fasterxml.jackson.core.JsonProcessingException; target is of class [com.project.shopapp.controller.ProductController]
2024-10-26 10:42:10 DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.project.shopapp.controller.ProductController.getAllProducts(java.lang.String,java.lang.Long,java.lang.Float,java.lang.Float,int,int,int) throws com.fasterxml.jackson.core.JsonProcessingException; target is of class [com.project.shopapp.controller.ProductController]
2024-10-26 10:42:10 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 10:42:10] Method - getAllProducts, Args - [, 0, 10000.0, 100000.0, 0, 0, 12, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:42:10 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllProducts, executionTime:26
2024-10-26 10:42:10 ERROR c.p.s.c.aspect.LoggingAspect - Failed to write log to Excel file
java.io.FileNotFoundException: src\main\resources\logs\excel\UserActivityLog.xlsx (The process cannot access the file because it is being used by another process)
	at java.base/java.io.FileOutputStream.open0(Native Method)
	at java.base/java.io.FileOutputStream.open(FileOutputStream.java:295)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:236)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:124)
	at com.project.shopapp.components.aspect.LoggingAspect.writeLogToExcel(LoggingAspect.java:102)
	at com.project.shopapp.components.aspect.LoggingAspect.loggerActivity(LoggingAspect.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:269)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:264)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.PrePostMethodSecurityConfiguration$DeferringMethodInterceptor.invoke(PrePostMethodSecurityConfiguration.java:200)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.project.shopapp.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.project.shopapp.filter.JwtTokenFilter.doFilterInternal(JwtTokenFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.project.shopapp.components.CustomCorsFilter.doFilterInternal(CustomCorsFilter.java:32)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2024-10-26 10:42:10 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7dfba1b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c441841, org.springframework.security.web.context.SecurityContextHolderFilter@5d92bd50, org.springframework.security.web.header.HeaderWriterFilter@5a56aa85, org.springframework.web.filter.CorsFilter@35b1cffd, org.springframework.security.web.authentication.logout.LogoutFilter@3c986e06, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@32ceaba7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4d42465e, com.project.shopapp.filter.JwtTokenFilter@27636d72, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2ba29fef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3a60b36f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@793b6e25, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bfbb83b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ab63bf3, org.springframework.security.web.session.SessionManagementFilter@62204612, org.springframework.security.web.access.ExceptionTranslationFilter@32c26e28, org.springframework.security.web.access.intercept.AuthorizationFilter@630f63ee]] (1/1)
2024-10-26 10:42:23 DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking DisableEncodeUrlFilter (1/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking WebAsyncManagerIntegrationFilter (2/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderFilter (3/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking HeaderWriterFilter (4/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking CorsFilter (5/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking LogoutFilter (6/17)
2024-10-26 10:42:23 TRACE o.s.s.w.a.logout.LogoutFilter - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2AuthorizationRequestRedirectFilter (7/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking OAuth2LoginAuthenticationFilter (8/17)
2024-10-26 10:42:23 TRACE o.s.s.o.c.w.OAuth2LoginAuthenticationFilter - Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking JwtTokenFilter (9/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLoginPageGeneratingFilter (10/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking DefaultLogoutPageGeneratingFilter (11/17)
2024-10-26 10:42:23 TRACE o.s.s.w.a.u.DefaultLogoutPageGeneratingFilter - Did not render default logout page since request did not match [Ant [pattern='/logout', GET]]
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking RequestCacheAwareFilter (12/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking SecurityContextHolderAwareRequestFilter (13/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking AnonymousAuthenticationFilter (14/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking SessionManagementFilter (15/17)
2024-10-26 10:42:23 TRACE o.s.s.w.c.SupplierDeferredSecurityContext - Created SecurityContextImpl [Null authentication]
2024-10-26 10:42:23 TRACE o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking ExceptionTranslationFilter (16/17)
2024-10-26 10:42:23 TRACE o.s.security.web.FilterChainProxy - Invoking AuthorizationFilter (17/17)
2024-10-26 10:42:23 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Authorizing GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:42:23 TRACE o.s.s.w.a.i.RequestMatcherDelegatingAuthorizationManager - Checking authorization on GET /api/v1/products?keyword=&page=0&limit=12 using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1981/0x0000018a81dc6fc8@58aff1cc
2024-10-26 10:42:23 DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/products?keyword=&page=0&limit=12
2024-10-26 10:42:23 DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.project.shopapp.controller.ProductController.getAllProducts(java.lang.String,java.lang.Long,java.lang.Float,java.lang.Float,int,int,int) throws com.fasterxml.jackson.core.JsonProcessingException; target is of class [com.project.shopapp.controller.ProductController]
2024-10-26 10:42:23 DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.project.shopapp.controller.ProductController.getAllProducts(java.lang.String,java.lang.Long,java.lang.Float,java.lang.Float,int,int,int) throws com.fasterxml.jackson.core.JsonProcessingException; target is of class [com.project.shopapp.controller.ProductController]
2024-10-26 10:42:23 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 10:42:23] Method - getAllProducts, Args - [, 0, 10000.0, 100000.0, 0, 0, 12, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 10:42:23 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllProducts, executionTime:14
2024-10-26 10:42:23 TRACE o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match request to [Is Secure]
2024-10-26 11:10:03 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 11:10:04 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 28196 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 11:10:04 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 11:10:05 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 11:10:05 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 11:10:05 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 11:10:05 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 11:10:06 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 11:10:06 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.026s)
2024-10-26 11:10:06 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 11:10:06 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 11:10:06 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 11:10:06 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 11:10:06 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 11:10:06 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 11:10:07 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 11:10:08 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 11:10:09 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 11:10:10 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 11:10:10 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 7.253 seconds (process running for 7.683)
2024-10-26 11:10:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 11:11:52 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 11:11:52] Method - getAllProducts, Args - [, 0, 10000.0, 100000.0, 0, 0, 12, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 11:11:52 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllProducts, executionTime:99
2024-10-26 13:03:39 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 13:03:39 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 12224 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 13:03:39 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 13:03:40 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 13:03:40 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 13:03:40 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 13:03:41 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 13:03:41 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 13:03:41 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.022s)
2024-10-26 13:03:41 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 13:03:41 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 13:03:41 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 13:03:41 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 13:03:41 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 13:03:41 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 13:03:42 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 13:03:43 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 13:03:44 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 13:03:45 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 13:03:45 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.6 seconds (process running for 6.985)
2024-10-26 13:03:45 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 13:03:47 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:03:47] Method - getAllProducts, Args - [, 0, 10000.0, 100000.0, 0, 0, 12, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:03:47 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllProducts, executionTime:110
2024-10-26 13:03:55 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:03:55] Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@4786b897], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:03:55 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:353
2024-10-26 13:04:11 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:04:11] Method - getOrder, Args - [15, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:07:02 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 13:07:02 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 13664 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 13:07:02 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 13:07:03 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 13:07:03 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 13:07:03 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 13:07:03 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 13:07:04 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 13:07:04 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.023s)
2024-10-26 13:07:04 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 13:07:04 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 13:07:04 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 13:07:04 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 13:07:04 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 13:07:04 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 13:07:05 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 13:07:06 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 13:07:07 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 13:07:08 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 13:07:08 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.328 seconds (process running for 6.704)
2024-10-26 13:07:08 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 13:07:13 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:07:13] Method - getOrder, Args - [15, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:07:26 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:07:26] Method - getAllRoles, Args - [], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:07:26 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllRoles, executionTime:10
2024-10-26 13:10:11 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 13:10:11 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 21412 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 13:10:11 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 13:10:13 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 13:10:13 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 13:10:13 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 13:10:13 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 13:10:13 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 13:10:13 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.026s)
2024-10-26 13:10:13 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 13:10:13 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 13:10:13 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 13:10:13 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 13:10:14 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 13:10:14 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 13:10:15 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 13:10:16 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 13:10:17 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 13:10:17 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 13:10:18 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.826 seconds (process running for 7.395)
2024-10-26 13:10:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 13:10:39 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 13:10:39 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 17380 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 13:10:39 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 13:10:41 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 13:10:41 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 13:10:41 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 13:10:41 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 13:10:41 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 13:10:41 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.028s)
2024-10-26 13:10:41 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 13:10:41 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 13:10:41 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 13:10:41 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 13:10:41 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 13:10:42 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 13:10:43 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 13:10:44 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 13:10:44 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 13:10:45 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 13:10:45 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.711 seconds (process running for 7.206)
2024-10-26 13:10:46 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 13:11:41 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:11:41] Method - login, Args - [UserLoginDTO(email=alosinl048@gmail.com, password=****, roleId=1, rememberMe=null), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@15b78604], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:11:41 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:338
2024-10-26 13:11:51 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:11:51] Method - getCart, Args - [6, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:11:56 INFO  c.p.s.controller.ProductController - (getCartItems): customerId = 6
2024-10-26 13:11:56 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getCart, executionTime:5173
2024-10-26 13:12:44 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:12:44] Method - login, Args - [UserLoginDTO(email=admin, password=****, roleId=2, rememberMe=true), SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@c9a041b], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:12:44 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: login, executionTime:166
2024-10-26 13:12:58 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:12:58] Method - getAllCategories, Args - [], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:12:58 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllCategories, executionTime:7
2024-10-26 13:13:49 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-10-26 13:13:49 INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 20.0.2.1 with PID 9376 (D:\ideaIU\Work\ShopApp\shopapp-backend\target\classes started by Admin in D:\ideaIU\Work\ShopApp\shopapp-backend)
2024-10-26 13:13:49 INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-26 13:13:50 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2024-10-26 13:13:50 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-26 13:13:50 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-26 13:13:50 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-26 13:13:51 INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/ShopApp (MySQL 5.5)
2024-10-26 13:13:51 INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.023s)
2024-10-26 13:13:51 INFO  o.f.core.internal.command.DbMigrate - Current version of schema `shopapp`: 13
2024-10-26 13:13:51 INFO  o.f.core.internal.command.DbMigrate - Schema `shopapp` is up to date. No migration necessary.
2024-10-26 13:13:51 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-26 13:13:51 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-26 13:13:51 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-26 13:13:51 WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2024-10-26 13:13:52 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-26 13:13:53 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-26 13:13:54 WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [customerUserDetailsService, userDetailsService]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2024-10-26 13:13:55 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2024-10-26 13:13:55 INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 6.57 seconds (process running for 6.972)
2024-10-26 13:13:55 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-26 13:14:26 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:14:26] Method - getAllRating, Args - [null, 2, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:14:26 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllRating, executionTime:70
2024-10-26 13:15:07 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:15:07] Method - getAllRating, Args - [null, 1, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:15:07 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getAllRating, executionTime:12
2024-10-26 13:15:14 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:15:14] Method - getRatingStats, Args - [1, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:15:14 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: getRatingStats, executionTime:9
2024-10-26 13:15:36 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:15:36] Method - calculateCouponValue, Args - [HEAVEN, 120.0, ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:15:36 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: calculateCouponValue, executionTime:17
2024-10-26 13:15:48 INFO  c.p.s.c.aspect.LoggingAspect - User logging: [2024-10-26 13:15:48] Method - submitOrder, Args - [com.project.shopapp.request.PurchaseRequest@479d8883, SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@58d99f9d], ], IP address - 0:0:0:0:0:0:0:1
2024-10-26 13:15:48 INFO  c.p.s.c.aspect.LoggingAspect - User activity finished: submitOrder, executionTime:82
2024-10-26 13:16:09 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 436 ms
